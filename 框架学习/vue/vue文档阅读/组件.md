## 组件

### 使用组件

#### 注册组件的方法

```javascript
Vue.component('my-component', {
  // 选项
})
```
然后在父组件中以自定义元素使用
```html
<div id="example">
  <my-component></my-component>
</div>
```

#### 局部注册

上面的注册组件的方法，得到的是一个独立的、可复用的组件。可以作为任意父组件的子组件。   

组件也可以局部注册，这样就只能在某一个父组件中使用它了
```javascript
var Child = {
  template: '<div>A custom component!</div>'
};
new Vue({
  // ...
  components: {
    // <my-component> 将只在父模板可用
    'my-component': Child
  }
});
```

#### data必须是函数

```javascript
Vue.component('my-component', {
  template: '<span>{{ message }}</span>',
  data: {
    message: 0
  }
})
```
如果这么做，vue是会报错的，我们这样来模拟
```javascript
var data = {num: 0};
Vue.component('my-component', {
  template: '<span>{{ message }}</span>',
  data: function(){
      return data;
  }
})
```
我们使用三次这个组件，并且每个都对`data.num`进行了操作，那么其他的也会跟着变
    
这其实就是个闭包的问题，如果data不是函数，那么每次使用组件都是公用的一个data，只有用函数才能   
让这些data互相独立

#### 构成组件

组件意味着互相协同工作，父组件要将数据传给子组件，子组件将它内部发生的事情告诉父组件，同时尽可能的父子组件解耦    
因此，在vue中，父组件通过props给子组件传数据，子组件通过events给父组件发消息